<div id="ds-summary-container" class="container-fluid" ng-controller="DSSummaryController as vm">

    <!-- Content shown if No Sources or DataServices yet -->
    <div id="dataservice-summary-nosources" ng-show="vm.dsLoading==false && vm.sourcesLoading==false && vm.hasSources==false && vm.hasServices==false" class="col-md-10 row">
        <div class="row">
            <h2>Welcome to the <strong>Data Services Builder</strong>!</h2>
            <h2><span class="fa fa-fw {{vmmain.selectedPage.icon}}"></span><span>{{vmmain.selectedPage.title}}</span></h2>
            <p>A Data Service is created using one or more Sources.  To create your first Source, click 
               <a href ng-click="vmmain.selectPage('svcsource-new')"><span class="fa fa-fw {{vmmain.page('svcsource-new').icon}}"></span><span>{{vmmain.page('svcsource-new').title}}</span></a>
               <br>
               You can also import an existing Data Service.  To import a Data Service,
               click <a href ng-click="vmmain.selectPage('dataservice-import')"><span class="fa fa-fw {{vmmain.page('dataservice-import').icon}}"></span><span>{{vmmain.page('dataservice-import').title}}</span></a>
            </p>
        </div>
    </div>

    <!-- Content shown if No DataServices yet -->
    <div id="dataservice-summary-noservices" ng-show="vm.dsLoading==false && vm.sourcesLoading==false && vm.hasSources==true && vm.hasServices==false" class="col-md-10 row">
        <div class="row">
            <h2>Welcome to the <strong>Data Services Builder</strong>!</h2>
            <h2><span class="fa fa-fw {{vmmain.selectedPage.icon}}"></span><span>{{vmmain.selectedPage.title}}</span></h2>
            <p>A Data Service is created using one or more Sources.  To create your first Data Service, click 
               <a href ng-click="vmmain.selectPage('dataservice-new')"><span class="fa fa-fw {{vmmain.page('dataservice-new').icon}}"></span><span>{{vmmain.page('dataservice-new').title}}</span></a>
               <br>
               You can also import an existing Data Service.  To import a Data Service,
               click <a href ng-click="vmmain.selectPage('dataservice-import')"><span class="fa fa-fw {{vmmain.page('dataservice-import').icon}}"></span><span>{{vmmain.page('dataservice-import').title}}</span></a>
            </p>
        </div>
    </div>

    <div id="dataservice-summary-updating" ng-show="vm.dsLoading==true || vm.sourcesLoading==true" class="col-md-10 row">
        <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
        <span class="sr-only">Loading...</span>
    </div>

    <div id="ds-summary-table" class="col-md-10 row" ng-show="vm.dsLoading==false && vm.sourcesLoading==false && vm.hasServices==true">
        <div class="row">
            <h2><span class="fa fa-fw {{vmmain.selectedPage.icon}}"></span><span>{{vmmain.selectedPage.title}}</span></h2>
        </div>
        <div pf-toolbar id="dataserviceToolbar" config="vm.toolbarConfig"></div>

            <div class="col-md-12 list-view-container" ng-if="vm.viewType == 'listView'">
        <div class="row ds-summary-results">
                <div pf-list-view config="vm.listConfig" items="vm.getDataServices()" menu-actions="vm.menuActions">
                        <div class="list-view-pf-left">
                            <span class="fa fa-cube list-view-pf-icon-sm"></span>
                        </div>
                        <div class="list-view-pf-body">
                            <div class="list-view-pf-description display-block">
                                <div class="list-group-item-heading no-float">
                                    <a>{{item.keng__id}}</a>
                                </div>
                                <div class="list-group-item-text no-float">
                                    {{item.tko__description}}
                                </div>
                            </div>
                            <div class="list-view-pf-additional-info">
                                <div class="list-view-pf-additional-info-item" uib-tooltip="The name of the service vdb of this dataservice">
                                    <span class="pficon pficon-service"></span>
                                    <strong><i>{{item.serviceVdbName}}</i></strong>
                                </div>

                                <!-- TODO - consider what else to include here, preferably the service sources available -->

                                <div class="list-view-pf-additional-info-item" uib-tooltip="The number of native data connections, eg. JDBC databases, utilised by this dataservice">
                                    <span class="pficon  pficon-resource-pool"></span>
                                    <strong>{{item.connections}}</strong>
                                    <span>{{item.connections === 1 ? 'Connection' : 'Connections'}}</span>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div> <!-- ds-summary-results -->

        <div class="col-md-12 card-view-container" ng-if="vm.viewType == 'cardView'">
           <div pf-card-view config="vm.listConfig" items="vm.getDataServices()">
             <div class="col-md-12">
               <span>{{item.keng__id}}</span>
             </div>
             <div class="col-md-12">
               <span>{{item.tko__description}}</span>
             </div>
           </div>
         </div>
    </div>
</div>
